<krpano version="1.19" title="Bali">

	<include url="skin/vtourskin.xml" />

	<!-- customize skin settings: maps, gyro, webvr, thumbnails, tooltips, layout, design, ... -->
	<skin_settings maps="false"
	               maps_type="google"
	               maps_bing_api_key=""
	               maps_google_api_key=""
	               maps_zoombuttons="false"
	               gyro="true"
	               webvr="false"
	               webvr_gyro_keeplookingdirection="false"
	               webvr_prev_next_hotspots="false"
	               littleplanetintro="false"
	               title="false"
	               thumbs="true"
	               thumbs_width="120" thumbs_height="80" thumbs_padding="10" thumbs_crop="0|40|240|160"
	               thumbs_opened="true"
	               thumbs_text="true"
	               thumbs_dragging="true"
	               thumbs_onhoverscrolling="false"
	               thumbs_scrollbuttons="false"
	               thumbs_scrollindicator="false"
	               thumbs_loop="false"
	               tooltips_buttons="false"
	               tooltips_thumbs="false"
	               tooltips_hotspots="false"
	               tooltips_mapspots="false"
	               deeplinking="false"
	               loadscene_flags="MERGE"
	               loadscene_blend="OPENBLEND(0.5, 0.0, 0.75, 0.05, linear)"
	               loadscene_blend_prev="SLIDEBLEND(0.5, 180, 0.75, linear)"
	               loadscene_blend_next="SLIDEBLEND(0.5,   0, 0.75, linear)"
	               loadingtext="loading..."
	               layout_width="100%"
	               layout_maxwidth="814"
	               controlbar_width="-24"
	               controlbar_height="40"
	               controlbar_offset="20"
	               controlbar_offset_closed="-40"
	               controlbar_overlap.no-fractionalscaling="10"
	               controlbar_overlap.fractionalscaling="0"
	               design_skin_images="vtourskin.png"
	               design_bgcolor="0x2D3E50"
	               design_bgalpha="0.8"
	               design_bgborder="0"
	               design_bgroundedge="1"
	               design_bgshadow="0 4 10 0x000000 0.3"
	               design_thumbborder_bgborder="3 0xFFFFFF 1.0"
	               design_thumbborder_padding="2"
	               design_thumbborder_bgroundedge="0"
	               design_text_css="color:#FFFFFF; font-family:Arial;"
	               design_text_shadow="1"
	               />

	<!--
	    For an alternative skin design either change the <skin_settings> values 
	    from above or optionally include one of the predefined designs from below.
	-->
	<!-- <include url="skin/vtourskin_design_flat_light.xml"  /> -->
	<!-- <include url="skin/vtourskin_design_glass.xml"       /> -->
	<!-- <include url="skin/vtourskin_design_ultra_light.xml" /> -->
	<!-- <include url="skin/vtourskin_design_117.xml"         /> -->
	<!-- <include url="skin/vtourskin_design_117round.xml"    /> -->
	<!-- <include url="skin/vtourskin_design_black.xml"       /> -->


	<!-- startup action - load the first scene -->
	<action name="startup" autorun="onstart">
		if(startscene === null OR !scene[get(startscene)], copy(startscene,scene[0].name); );
		loadscene(get(startscene), null, MERGE);
		if(startactions !== null, startactions() );
		
		if (onlyonce.flag,
			set(onlyonce.flag, false);
			set(layer[introimage].visible,true);
			set(layer[introimage].enabled,true);
			set(layer[placename],enabled=false, visible=false);			
			);
	</action>

	<!-- Finders -->
	<layer name="headcontainer" devices="normal"  type="container" keep="true" width="100%">
		<layer name="subtitle" url="src/temukan.png" align="righttop" enabled="true"  x="10" y="10" scale="0.5" keep="true" zorder="1" />
		<layer name="me" url="src/aksara.png" scale="0.5" crop="0|0|230|200"  keep="true" align="righttop" x="280" y= "80"/>
		<layer name="la" url="src/aksara.png"  scale="0.5" crop="230|0|230|200" keep="true" align="righttop" x="160" y= "80"/>
		<layer name="li" url="src/aksara.png"  scale="0.5" crop="460|0|230|200"  keep="true" align="righttop" x="40" y= "80"/>
	</layer>
	
	<layer name="selamat"
			keep="true"
		   url="src/spacer.png"
		   width="100%"
		   height="100%"
	       align="lefttop"
	       onloaded="set(alpha,0); tween(alpha,1.0);"
	       visible="false"
		   maskchildren="true"
		   devices="normal"
		   zorder="100"
		   >
		   <layer name="selamat1" parent="selamat" devices="normal" url="src/winner.jpg" align="centercenter"  keep="true" scale="1.1"  zorder="1" />
		</layer>
	
	

	<onlyonce flag="true"/>
	<aksarame flag="false"/>
	<aksarala flag="false"/>
	<aksarali flag="false"/>
	<scene name="scene_1" title="Ngurah Rai Airport" onstart="" thumburl="panos/1.tiles/thumb.jpg" lat="" lng="" heading="">
		<events name="panoevents" devices="normal"
	        onloadcomplete="delayedcall(introimage, 4.0, if(layer[introimage], hideintroimage() ); ); set(events[panoevents].onloadcomplete,null);"
	        onremovepano="stopdelayedcall(introimage);"
		/>
		<events name="titlecall" devices="normal"
	        onloadcomplete="delayedcall(placename, 2.0, if(layer[placename], hideplacename() ); ); set(events[titlecall].onloadcomplete,null);"
	        onremovepano="stopdelayedcall(placename);"
		/>

		<layer name="introimage"
		   url="src/spacer.png"
		   width="100%"
		   height="100%"
	       align="lefttop"
	       onloaded="set(alpha,0); tween(alpha,1.0);"
	       visible="false"
		   maskchildren="true"
		   devices="normal"
		   zorder="100"
		   >
		   <layer name="intro" parent="introimage" devices="normal" url="src/intro.png" align="centercenter"   scale="1"  zorder="1" />
		</layer>

		<layer name="introimage"
		   url="src/spacer.png"
		   width="100%"
		   height="100%"
	       align="lefttop"
	       onloaded="set(alpha,0); tween(alpha,1.0);"
	       visible="false"
		   maskchildren="true"
		   onclick="hideintroimage()"
		   devices="mobile|iphone"
		   zorder="100"
		   >
		   <layer name="intro" parent="introimage" devices="mobile" url="src/intro.png" align="centercenter"   scale="1"  zorder="1" />
		</layer>

		<layer name="placename"
		   url="src/spacer.png"
		   width="100%"
		   height="100%"
	       align="lefttop"
	       onloaded="set(alpha,0); tween(alpha,1.0);"
	       visible="true"
		   maskchildren="true"
		   devices="normal"
		   zorder="100"
		   >
		   <layer name="title" parent="placename" devices="normal" url="src/T1.png" align="centercenter"   scale="1.2"  zorder="1" />
		</layer>

		<layer name="placename"
		   url="src/spacer.png"
		   width="100%"
		   height="100%"
	       align="lefttop"
	       onloaded="set(alpha,0); tween(alpha,1.0);"
	       visible="true"
		   maskchildren="true"
		   onclick="hideintroimage()"
		   devices="mobile|iphone"
		   zorder="100"
		   >
		   <layer name="title" parent="placename" devices="mobile" url="srC/T1.png" align="centercenter"   scale="1.2"  zorder="1" />
		</layer>

		<view hlookat="0.0" vlookat="-30.0" fovtype="MFOV" fov="120" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="auto" />

		<preview url="panos/1.tiles/preview.jpg" />

		<image>
			<cube url="panos/1.tiles/pano_%s.jpg" />
		</image>
	<action name="hideintroimage">
		
		if(layer[introimage].enabled,
			set(layer[introimage].enabled,false);
			
			tween(layer[introimage].alpha, 0.0, 0.5, default, removelayer(introimage),removelayer(intro));
		  );
		  
		</action>	

	<hotspot name="me"  style="skin_hotspotstyle" url="src/me.png"  ath="179.706" atv="10.523" scale="0.25" thetext="me" onclick="sethlup();set(aksarame.flag, true);updatechecker();"/>	

	</scene>

	<scene name="scene_2" title="Waterblow" onstart="" thumburl="panos/2.tiles/thumb.jpg" lat="" lng="" heading="">
		<events name="titlecall" devices="normal"
	        onloadcomplete="delayedcall(placename, 2.0, if(layer[placename], hideplacename() ); ); set(events[titlecall].onloadcomplete,null);"
	        onremovepano="stopdelayedcall(placename);"
		/>
		<layer name="placename"
		   url="src/spacer.png"
		   width="100%"
		   height="100%"
	       align="lefttop"
	       onloaded="set(alpha,0); tween(alpha,1.0);"
	       visible="true"
		   maskchildren="true"
		   devices="normal"
		   zorder="100"
		   >
		   <layer name="title" parent="placename" devices="normal" url="src/T2.png" align="centercenter"   scale="1.2"  zorder="1" />
		</layer>

		<layer name="placename"
		   url="src/spacer.png"
		   width="100%"
		   height="100%"
	       align="lefttop"
	       onloaded="set(alpha,0); tween(alpha,1.0);"
	       visible="true"
		   maskchildren="true"
		   onclick="hideintroimage()"
		   devices="mobile|iphone"
		   zorder="100"
		   >
		   <layer name="title" parent="placename" devices="mobile" url="srC/T2.png" align="centercenter"   scale="1.2"  zorder="1" />
		</layer>

		<view hlookat="0.0" vlookat="0.0" fovtype="MFOV" fov="120" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="auto" />

		<preview url="panos/2.tiles/preview.jpg" />

		<image>
			<cube url="panos/2.tiles/pano_%s.jpg" />
		</image>
	<hotspot name="la"  style="skin_hotspotstyle" url="src/la.png"  ath="-6.288" atv="45.614" scale="0.25" thetext="me" onclick="sethlup();set(aksarala.flag, true);updatechecker();"/>	
		
	</scene>

	<scene name="scene_3" title="Tegalalang" onstart="" thumburl="panos/3.tiles/thumb.jpg" lat="" lng="" heading="">
		<events name="titlecall" devices="normal"
	        onloadcomplete="delayedcall(placename, 2.0, if(layer[placename], hideplacename() ); ); set(events[titlecall].onloadcomplete,null);"
	        onremovepano="stopdelayedcall(placename);"
		/>
		<layer name="placename"
		   url="src/spacer.png"
		   width="100%"
		   height="100%"
	       align="lefttop"
	       onloaded="set(alpha,0); tween(alpha,1.0);"
	       visible="true"
		   maskchildren="true"
		   devices="normal"
		   zorder="100"
		   >
		   <layer name="title" parent="placename" devices="normal" url="src/T3.png" align="centercenter"   scale="1.2"  zorder="1" />
		</layer>

		<layer name="placename"
		   url="src/spacer.png"
		   width="100%"
		   height="100%"
	       align="lefttop"
	       onloaded="set(alpha,0); tween(alpha,1.0);"
	       visible="true"
		   maskchildren="true"
		   onclick="hideintroimage()"
		   devices="mobile|iphone"
		   zorder="100"
		   >
		   <layer name="title" parent="placename" devices="mobile" url="srC/T3.png" align="centercenter"   scale="1.2"  zorder="1" />
		</layer>
		<view hlookat="0.0" vlookat="0.0" fovtype="MFOV" fov="120" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="auto" />

		<preview url="panos/3.tiles/preview.jpg" />

		<image>
			<cube url="panos/3.tiles/pano_%s.jpg" />
		</image>
		<hotspot name="li"  style="skin_hotspotstyle" url="src/li.png"  ath="-121.580" atv="-13.812" scale="0.25" thetext="li" onclick="sethlup();set(aksarali.flag, true);updatechecker();"/>	
	</scene>

	<action name="hideplacename">
		if(layer[placename].enabled,
			set(layer[placename].enabled,false);
			tween(layer[placename].alpha, 0.0, 0.5, default, removelayer(placename),removelayer(title));
		  );
		  
	</action>	

<action name="sethlup">
adjusthlookat(0);
</action>

<action name="updatechecker">
	if(aksarame.flag AND layer[me].url==="src/aksara.png",
		set(layer[me].url, "src/aksara2.png")
	);
	if(aksarala.flag AND layer[la].url==="src/aksara.png",
		set(layer[la].url, "src/aksara2.png")
	);
	if(aksarali.flag AND layer[li].url==="src/aksara.png",
		set(layer[li].url, "src/aksara2.png")
	);
	
	if(aksarame.flag AND aksarala.flag AND aksarali.flag,
		set(layer[selamat].visible,true);
		
	);
</action>

</krpano>
